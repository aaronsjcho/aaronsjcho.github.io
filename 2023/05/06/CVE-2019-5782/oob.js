const kArgumentsBits = 16;
const kMaxArguments = (1 << kArgumentsBits) - 2; // 0xfffe

let arr;

function layout() {
    let idx = arguments.length >> kArgumentsBits; // optimised to 0

    arr = [1.1]; // idx is always smaller than arr.length
    return arr[idx]; // CheckBounds is optimised out
}

layout();
% OptimizeFunctionOnNextCall(layout); // compile with turbofan
layout();

let args = new Array(0x10000);
console.log(layout(...args));
